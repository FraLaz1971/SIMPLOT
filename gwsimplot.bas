10  REM ******************************************
13  REM **     SIMPLOT.BAS August, 1983      *****
16  REM ** Updated by fralaz1971 March, 2021 *****
20  REM ******************************************
40  REM _TITLE "Simplot"
50  REM _FULLSCREEN _STRETCH
90  LET DEBUG = 0
300 READ NODP
305 PRINT "N. points:";NODP
310 DIM XA(NODP*2), YA(NODP*2)
320 FOR I = 1 TO NODP/10
325     IF (DEBUG) THEN PRINT "line ";I
330     FOR J = 1 TO 10
335         IF (DEBUG) THEN 'print "num ";10*(I-1)+J
340         READ XA(10*(I-1)+J), YA(10*(I-1)+J)
350     NEXT J
360 NEXT I
410 READ XMINP,XMAXP,XTIK 
420 READ YMINP,YMAXP,YTIK
500 XAXT$ = "n.": YAXT$ = "X^2"
600 KEY OFF: SCREEN 2: CLS
999 '************************************************************************
1000 'PLOT: 1 --- Point Plot, 2 --- Line Plot
1010 PLOT = 1
10000 GOSUB 20000
10010 IF PLOT = 2 THEN GOTO 10200
10100 FOR I = 1 TO NODP: X = XA(I): Y = YA(I): GOSUB 20010: NEXT I
10120 GOTO 10220
10200 XO = XA(1): YO = YA(1): GOSUB 20020
10210 FOR I = 2 TO NODP: X1 = XA(I): Y1 = YA(I): GOSUB 20030: NEXT I
10220 IF 1 > 0 THEN 10220
20000 GOTO 20040 ' draw and label plot
20010 GOTO 20210 ' point plot
20020 GOTO 20250 ' line plot - initialize
20030 GOTO 20280 ' line plot - connect
20040 Z0 = XMINP: Z1 = XMAXP: Z2 = YMINP: Z3 = YMAXP
20050 ZDX = XTIK: ZDY = YTIK
20060 ZG0 = 68: ZG1 = 4
20070 ZG2 = 606: ZG3 = 180
20080 ZGDX = (ZG2 - ZG0) / ZDX: ZGDY = (ZG3 - ZG1) / ZDY: CLS
20090 LINE (ZG0, ZG1)-(ZG2, ZG3), 1, B: ZDA = 5
20100 FOR ZI = 0 TO ZDX: LINE (ZG0 + ZI * ZGDX, ZG1)-(ZG0 + ZI * ZGDX, ZG1 + ZDA), 1
20110 LINE (ZG0 + ZI * ZGDX, ZG3)-(ZG0 + ZI * ZGDX, ZG3 - ZDA), 1: NEXT
20120 FOR ZI = 0 TO ZDY: LINE (ZG0, ZG3 - ZI * ZGDY)-(ZG0 + ZDA, ZG3 - ZI * ZGDY), 1
20130 LINE (ZG2, ZG3 - ZI * ZGDY)-(ZG2 - ZDA, ZG3 - ZI * ZGDY), 1: NEXT
20140 ZTY = 22: ZTX = INT((ZG2 - ZG0) / 8 + .5): ZT0 = 1: ZT3 = 23
20150 FOR ZI = 0 TO ZDY: LOCATE ZT3 - INT(ZI * ZTY / ZDY + .5), ZT0
20160 Z = Z2 + ZI * (Z3 - Z2) / ZDY: PRINT USING "##.#^^^^"; Z;: NEXT: ZT0 = 5
20170 FOR ZI = 0 TO ZDX: LOCATE ZT3 + 1, ZT0 + INT(ZI * ZTX / ZDX + .5)
20180 Z = Z0 + ZI * (Z1 - Z0) / ZDX: PRINT USING "##.#^^^^"; Z;: NEXT
20190 LOCATE 25, INT((ZTX - LEN(XAXT$) - LEN(YAXT$) + 14) / 2)
20200 PRINT YAXT$; "  vs  "; XAXT$;: GOTO 20320
20210 IF X < Z0 OR X > Z1 OR Y < Z2 OR Y > Z3 THEN 20320
20220 ZX = INT((X - Z0) / (Z1 - Z0) * (ZG2 - ZG0) + ZG0)
20230 ZY = INT(ZG3 - ((Y - Z2) / (Z3 - Z2) * (ZG3 - ZG1)))
20240 CIRCLE (ZX, ZY), 2, 1: GOTO 20320
20250 IF X0 < Z0 OR X0 > Z1 OR Y0 < Z2 OR Y0 > Z3 THEN 20320
20260 ZX0 = INT((X0 - Z0) / (Z1 - Z0) * (ZG2 - ZG0) + ZG0)
20270 ZY0 = INT(ZG3 - ((Y0 - Z2) / (Z3 - Z2) * (ZG3 - ZG1))): GOTO 20320
20280 IF X1 < Z0 OR X1 > Z1 OR Y1 < Z2 OR Y1 > Z3 THEN 20320
20290 ZX1 = INT((X1 - Z0) / (Z1 - Z0) * (ZG2 - ZG0) + ZG0)
20300 ZY1 = INT(ZG3 - ((Y1 - Z2) / (Z3 - Z2) * (ZG3 - ZG1)))
20310 LINE (ZX0, ZY0)-(ZX1, ZY1), 1: ZX0 = ZX1: ZY0 = ZY1
20320 LOCATE 1, 39, 0: RETURN
20500 REM DATA 11
20510 REM DATA 1,1,2,4,3,9,4,16,5,25,6,36,7,49,8,64,9,81,10,100,11,121
20610 REM DATA 1, 20, 5 
20620 REM DATA 1, 130, 5
